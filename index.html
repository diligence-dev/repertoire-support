<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Add a Song to Repertoire</title>

  </head>
  <body>
    title: <input id="title" type="text" name="title" value=""><br>
    artist: <input id="artist" type="text" name="artist" value=""><br>
    tab: <textarea id="tab"></textarea><br>
    chords: <textarea id="chords"></textarea><br>
    lyrics: <textarea id="lyrics"></textarea><br>
    tags: <input id="tags" type="text" name="tags" value=""><br>
    <input id="generateQrCode" type="button" value="generate QR-Code" /><br>
    <img id="qr" hidden src="https://qrtag.net/api/qr_4.png?url=https://www.qrtag.net">







    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script type="text/javascript">
      // myjson POST Example

      var obj = {
        "title": $("#title").val(),
        "artist": $("#artist").val(),
        "tab": $("#tab").val(),
        "chords": $("#chords").val(),
        "lyrics": $("#lyrics").val(),
        "tags": $("#tags").val(),
      };
      var data = JSON.stringify(obj);

      $("#generateQrCode").click(function() {
        $.ajax({
            url: "https://api.myjson.com/bins",
            type: "POST",
            data: data,
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data, textStatus, jqXHR) {
                var qrSrc = "https://qrtag.net/api/qr_4.png?url=" + data.uri
                $("#qr").attr("src", qrSrc).show()
            }
        });
      });
    </script>
  </body>
</html>
